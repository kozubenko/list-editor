{"version":3,"sources":["components/ListItem/index.tsx","components/ListItemForm/index.tsx","utils/helpers.ts","components/List/index.tsx","App.tsx","index.tsx"],"names":["ListItem","title","isFirst","isLast","handleRemoveItem","handleMoveItemUp","handleMoveItemDown","useState","showSublist","setShowSublist","handleShowSublist","useCallback","value","handleRemove","handleMoveUp","handleMoveDown","onClick","ListItemForm","handleAddItem","isItemExist","setValue","showErrorMessage","alert","handleSubmit","e","preventDefault","handleChangeValue","target","onSubmit","onChange","type","disabled","swapItemsInArray","array","first","second","newArray","List","items","setItems","newItem","some","item","filter","swapItem","itemIndex","findIndex","map","idx","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mLA0DeA,EA3C4C,SAAC,GAOrD,IANLC,EAMI,EANJA,MACAC,EAKI,EALJA,QACAC,EAII,EAJJA,OACAC,EAGI,EAHJA,iBACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,mBACI,EACkCC,oBAAS,GAD3C,mBACGC,EADH,KACgBC,EADhB,KAGEC,EAAoBC,uBAAY,WACpCF,GAAe,SAAAG,GAAK,OAAKA,OACxB,IAEGC,EAAeF,uBAAY,WAC/BP,EAAiB,CAAEH,YAClB,IAEGa,EAAeH,uBAAY,WAC/BN,EAAiB,CAAEJ,YAClB,IAEGc,EAAiBJ,uBAAY,WACjCL,EAAmB,CAAEL,YACpB,IACH,OACE,4BACE,8BAAOA,IAELC,GAAW,4BAAQc,QAASF,GAAjB,WACXX,GAAU,4BAAQa,QAASD,GAAjB,WAEVP,GAAe,4BAAQQ,QAASN,GAAjB,eAChBF,GACC,4BAAQQ,QAASN,GAAjB,kBAGF,4BAAQM,QAASH,GAAjB,UACCL,GAAe,kBAAC,EAAD,QCTPS,EApCyB,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,cAAeC,EAAkB,EAAlBA,YAAkB,EAChDZ,mBAAiB,IAD+B,mBACnEN,EADmE,KAC5DmB,EAD4D,KAEpEC,EAAmBV,uBAAY,WACnCW,MACE,2EAED,IAEGC,EAAeZ,uBACnB,SAAAa,GACEA,EAAEC,iBAEEN,EAAY,CAAElB,UAChBoB,IAEAH,EAAc,CAAEjB,UAElBmB,EAAS,MAEX,CAACnB,EAAOkB,IAGJO,EAAoBf,uBAAY,YAAmC,IAAfV,EAAc,EAA/B0B,OAAUf,MACjDQ,EAASnB,KACR,IAEH,OACE,0BAAM2B,SAAUL,GACd,2BAAOX,MAAOX,EAAO4B,SAAUH,IAC/B,4BAAQI,KAAK,SAASC,UAAW9B,GAAjC,SCrCO+B,EAAmB,SAC9BC,EACAC,EACAC,GAEA,IAAMC,EAAQ,YAAOH,GADR,EAEyB,CAACG,EAASD,GAASC,EAASF,IAElE,OAFCE,EAASF,GAFG,KAEKE,EAASD,GAFd,KAINC,GC2DMC,EA5DE,WAAO,IAAD,EACK9B,mBAA+B,IADpC,mBACd+B,EADc,KACPC,EADO,KAGfrB,EAAgBP,uBACpB,SAAC6B,GACCD,GAAS,SAAAD,GAAK,4BAAQA,GAAR,CAAeE,SAE/B,CAACF,IAGGnB,EAAcR,uBAClB,SAAC6B,GAAD,OACEF,EAAMG,MAAK,SAAAC,GAAI,OAAIA,EAAKzC,QAAUuC,EAAQvC,WAC5C,CAACqC,IAGGlC,EAAmBO,uBAAY,SAAC6B,GACpCD,GAAS,SAAAD,GAAK,OAAIA,EAAMK,QAAO,SAAAD,GAAI,OAAIA,EAAKzC,QAAUuC,EAAQvC,cAC7D,IAEGI,EAAmBM,uBAAY,SAACiC,GACpCL,GAAS,SAAAD,GACP,IAAMO,EAAYP,EAAMQ,WAAU,SAAAJ,GAAI,OAAIA,EAAKzC,QAAU2C,EAAS3C,SAElE,OAAO+B,EAAiBM,EAAOO,EAAWA,EAAY,QAEvD,IAEGvC,EAAqBK,uBAAY,SAACiC,GACtCL,GAAS,SAAAD,GACP,IAAMO,EAAYP,EAAMQ,WAAU,SAAAJ,GAAI,OAAIA,EAAKzC,QAAU2C,EAAS3C,SAClE,OAAO+B,EAAgCM,EAAOO,EAAWA,EAAY,QAEtE,IAEH,OACE,4BACGP,EAAMS,KAAI,SAACL,EAAMM,GAChB,IAAM9C,EAAkB,IAAR8C,EACV7C,EAAS6C,IAAQV,EAAMW,OAAS,EAEtC,OACE,kBAAC,EAAD,CACEC,IAAKR,EAAKzC,MACVA,MAAOyC,EAAKzC,MACZC,QAASA,EACTC,OAAQA,EACRC,iBAAkBA,EAClBC,iBAAkBA,EAClBC,mBAAoBA,OAI1B,4BACE,kBAAC,EAAD,CAAcY,cAAeA,EAAeC,YAAaA,OCtDlDgC,EAJC,WACd,OAAO,kBAAC,EAAD,OCCTC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.47e583e8.chunk.js","sourcesContent":["import React, { FC, useState, useCallback } from \"react\";\nimport List from \"../List\";\n\nexport interface ListItemBaseI {\n  title: string;\n}\n\ninterface ListItemManagePropsI {\n  isFirst: boolean;\n  isLast: boolean;\n  handleRemoveItem: (item: ListItemBaseI) => void;\n  handleMoveItemUp: (item: ListItemBaseI) => void;\n  handleMoveItemDown: (item: ListItemBaseI) => void;\n}\n\nconst ListItem: FC<ListItemBaseI & ListItemManagePropsI> = ({\n  title,\n  isFirst,\n  isLast,\n  handleRemoveItem,\n  handleMoveItemUp,\n  handleMoveItemDown\n}) => {\n  const [showSublist, setShowSublist] = useState(false);\n\n  const handleShowSublist = useCallback(() => {\n    setShowSublist(value => !value);\n  }, []);\n\n  const handleRemove = useCallback(() => {\n    handleRemoveItem({ title });\n  }, []);\n\n  const handleMoveUp = useCallback(() => {\n    handleMoveItemUp({ title });\n  }, []);\n\n  const handleMoveDown = useCallback(() => {\n    handleMoveItemDown({ title });\n  }, []);\n  return (\n    <li>\n      <span>{title}</span>\n\n      {!isFirst && <button onClick={handleMoveUp}>&uarr;</button>}\n      {!isLast && <button onClick={handleMoveDown}>&darr;</button>}\n\n      {!showSublist && <button onClick={handleShowSublist}>Add Sublist</button>}\n      {showSublist && (\n        <button onClick={handleShowSublist}>Remove Sublist</button>\n      )}\n\n      <button onClick={handleRemove}>Remove</button>\n      {showSublist && <List />}\n    </li>\n  );\n};\n\nexport default ListItem;\n","import React, { FC, useCallback, useState } from \"react\";\nimport { ListItemBaseI } from \"../ListItem\";\n\ninterface ListItemFormI {\n  handleAddItem: (item: ListItemBaseI) => void;\n  isItemExist: (item: ListItemBaseI) => boolean;\n}\n\nconst ListItemForm: FC<ListItemFormI> = ({ handleAddItem, isItemExist }) => {\n  const [title, setValue] = useState<string>(\"\");\n  const showErrorMessage = useCallback(() => {\n    alert(\n      \"We are sorry. Item with same title already exist. Try another please.\"\n    );\n  }, []);\n\n  const handleSubmit = useCallback(\n    e => {\n      e.preventDefault();\n\n      if (isItemExist({ title })) {\n        showErrorMessage();\n      } else {\n        handleAddItem({ title });\n      }\n      setValue(\"\");\n    },\n    [title, isItemExist]\n  );\n\n  const handleChangeValue = useCallback(({ target: { value: title } }) => {\n    setValue(title);\n  }, []);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input value={title} onChange={handleChangeValue} />\n      <button type=\"submit\" disabled={!title}>\n        Add\n      </button>\n    </form>\n  );\n};\n\nexport default ListItemForm;\n","export const swapItemsInArray = <T>(\n  array: Array<T>,\n  first: number,\n  second: number\n): Array<T> => {\n  const newArray = [...array];\n  [newArray[first], newArray[second]] = [newArray[second], newArray[first]];\n\n  return newArray;\n};\n","import React, { FC, useState, useCallback } from \"react\";\n\nimport ListItem, { ListItemBaseI } from \"../ListItem\";\nimport ListItemForm from \"../ListItemForm\";\n\nimport { swapItemsInArray } from \"../../utils/helpers\";\n\nconst List: FC = () => {\n  const [items, setItems] = useState<Array<ListItemBaseI>>([]);\n\n  const handleAddItem = useCallback(\n    (newItem: ListItemBaseI) => {\n      setItems(items => [...items, newItem]);\n    },\n    [items]\n  );\n\n  const isItemExist = useCallback(\n    (newItem: ListItemBaseI) =>\n      items.some(item => item.title === newItem.title),\n    [items]\n  );\n\n  const handleRemoveItem = useCallback((newItem: ListItemBaseI) => {\n    setItems(items => items.filter(item => item.title !== newItem.title));\n  }, []);\n\n  const handleMoveItemUp = useCallback((swapItem: ListItemBaseI) => {\n    setItems(items => {\n      const itemIndex = items.findIndex(item => item.title === swapItem.title);\n\n      return swapItemsInArray(items, itemIndex, itemIndex - 1);\n    });\n  }, []);\n\n  const handleMoveItemDown = useCallback((swapItem: ListItemBaseI) => {\n    setItems(items => {\n      const itemIndex = items.findIndex(item => item.title === swapItem.title);\n      return swapItemsInArray<ListItemBaseI>(items, itemIndex, itemIndex + 1);\n    });\n  }, []);\n\n  return (\n    <ul>\n      {items.map((item, idx) => {\n        const isFirst = idx === 0;\n        const isLast = idx === items.length - 1;\n\n        return (\n          <ListItem\n            key={item.title}\n            title={item.title}\n            isFirst={isFirst}\n            isLast={isLast}\n            handleRemoveItem={handleRemoveItem}\n            handleMoveItemUp={handleMoveItemUp}\n            handleMoveItemDown={handleMoveItemDown}\n          />\n        );\n      })}\n      <li>\n        <ListItemForm handleAddItem={handleAddItem} isItemExist={isItemExist} />\n      </li>\n    </ul>\n  );\n};\n\nexport default List;\n","import React, { FC } from \"react\";\nimport List from \"./components/List\";\n\nconst App: FC = () => {\n  return <List />;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}