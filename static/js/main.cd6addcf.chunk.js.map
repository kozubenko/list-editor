{"version":3,"sources":["components/ListItem/index.tsx","components/ListItemForm/index.tsx","components/List/index.tsx","utils/helpers.ts","App.tsx","index.tsx"],"names":["ListItem","title","isFirst","isLast","handleRemoveItem","handleMoveItem","useState","showSublist","setShowSublist","handleShowSublist","useCallback","value","handleRemove","handleMoveUp","handleMoveDown","onClick","ListItemForm","handleAddItem","isItemExist","setValue","showErrorMessage","alert","handleSubmit","e","preventDefault","handleChangeValue","target","onSubmit","onChange","type","disabled","List","items","setItems","newItem","some","item","filter","position","swapItem","itemIndex","findIndex","array","first","second","newArray","swapItemsInArray","map","idx","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd6addcf.chunk.js","sourcesContent":["import React, { FC, useState, useCallback } from \"react\";\nimport List from \"../List\";\n\nexport interface ListItemBaseI {\n  title: string;\n}\n\ninterface ListItemManagePropsI {\n  isFirst: boolean;\n  isLast: boolean;\n  handleRemoveItem: (item: ListItemBaseI) => void;\n  handleMoveItem: (position: 1 | -1) => (item: ListItemBaseI) => void;\n}\n\nconst ListItem: FC<ListItemBaseI & ListItemManagePropsI> = ({\n  title,\n  isFirst,\n  isLast,\n  handleRemoveItem,\n  handleMoveItem\n}) => {\n  const [showSublist, setShowSublist] = useState(false);\n\n  const handleShowSublist = useCallback(() => {\n    setShowSublist(value => !value);\n  }, []);\n\n  const handleRemove = useCallback(() => {\n    handleRemoveItem({ title });\n  }, [title]);\n\n  const handleMoveUp = useCallback(() => {\n    handleMoveItem(-1)({ title });\n  }, [title]);\n\n  const handleMoveDown = useCallback(() => {\n    handleMoveItem(1)({ title });\n  }, [title]);\n\n  return (\n    <li>\n      <span>{title}</span>\n\n      {!isFirst && <button onClick={handleMoveUp}>&uarr;</button>}\n      {!isLast && <button onClick={handleMoveDown}>&darr;</button>}\n\n      {!showSublist && <button onClick={handleShowSublist}>Add Sublist</button>}\n      {showSublist && (\n        <button onClick={handleShowSublist}>Remove Sublist</button>\n      )}\n\n      <button onClick={handleRemove}>Remove</button>\n      {showSublist && <List />}\n    </li>\n  );\n};\n\nexport default ListItem;\n","import React, { FC, useCallback, useState } from \"react\";\nimport { ListItemBaseI } from \"../ListItem\";\n\ninterface ListItemFormI {\n  handleAddItem: (item: ListItemBaseI) => void;\n  isItemExist: (item: ListItemBaseI) => boolean;\n}\n\nconst ListItemForm: FC<ListItemFormI> = ({ handleAddItem, isItemExist }) => {\n  const [title, setValue] = useState<string>(\"\");\n  const showErrorMessage = useCallback(() => {\n    alert(\n      \"We are sorry. Item with same title already exist. Try another please.\"\n    );\n  }, []);\n\n  const handleSubmit = useCallback(\n    e => {\n      e.preventDefault();\n\n      if (isItemExist({ title })) {\n        showErrorMessage();\n      } else {\n        handleAddItem({ title });\n      }\n      setValue(\"\");\n    },\n    [title, isItemExist]\n  );\n\n  const handleChangeValue = useCallback(({ target: { value: title } }) => {\n    setValue(title);\n  }, []);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input value={title} onChange={handleChangeValue} />\n      <button type=\"submit\" disabled={!title}>\n        Add\n      </button>\n    </form>\n  );\n};\n\nexport default ListItemForm;\n","import React, { FC, useState, useCallback } from \"react\";\n\nimport ListItem, { ListItemBaseI } from \"../ListItem\";\nimport ListItemForm from \"../ListItemForm\";\n\nimport { swapItemsInArray } from \"../../utils/helpers\";\n\nconst List: FC = () => {\n  const [items, setItems] = useState<Array<ListItemBaseI>>([]);\n\n  const handleAddItem = useCallback(\n    (newItem: ListItemBaseI) => {\n      setItems(items => [...items, newItem]);\n    },\n    [items]\n  );\n\n  const isItemExist = useCallback(\n    (newItem: ListItemBaseI) =>\n      items.some(item => item.title === newItem.title),\n    [items]\n  );\n\n  const handleRemoveItem = useCallback((newItem: ListItemBaseI) => {\n    setItems(items => items.filter(item => item.title !== newItem.title));\n  }, []);\n\n  const handleMoveItem = useCallback(\n    (position: 1 | -1) => (swapItem: ListItemBaseI) => {\n      setItems(items => {\n        const itemIndex = items.findIndex(\n          item => item.title === swapItem.title\n        );\n\n        return swapItemsInArray(items, itemIndex, itemIndex + position);\n      });\n    },\n    []\n  );\n\n  return (\n    <ul>\n      {items.map((item, idx) => {\n        const isFirst = idx === 0;\n        const isLast = idx === items.length - 1;\n\n        return (\n          <ListItem\n            key={item.title}\n            title={item.title}\n            isFirst={isFirst}\n            isLast={isLast}\n            handleRemoveItem={handleRemoveItem}\n            handleMoveItem={handleMoveItem}\n          />\n        );\n      })}\n      <li>\n        <ListItemForm handleAddItem={handleAddItem} isItemExist={isItemExist} />\n      </li>\n    </ul>\n  );\n};\n\nexport default List;\n","export const swapItemsInArray = <T>(\n  array: Array<T>,\n  first: number,\n  second: number\n): Array<T> => {\n  const newArray = [...array];\n  [newArray[first], newArray[second]] = [newArray[second], newArray[first]];\n\n  return newArray;\n};\n","import React, { FC } from \"react\";\nimport List from \"./components/List\";\n\nconst App: FC = () => {\n  return <List />;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}